services:
- postgresql
cache:
  directories:
  - ".autoconf"
  - "$HOME/.m2"
addons:
  sonarcloud:
    organization: felipemiotto-github
before_script:
- psql -c 'create database vendasprodutoweb;' -U postgres
- psql -U postgres -d vendasprodutoweb -f src/main/java/Banco/scriptTabelas.sql
language: java
jdk:
- oraclejdk8
script:
- mvn clean verify -DskipTests=false -DskipITs=false -DskipSTs=false
deploy:
  provider: heroku
  api_key:
    secure: u0FkC2cNqdcG7zjnVM5FkeM9/kHWr1+dkJb/2VzSroKaVF75TdGzsi5agi4fIpy6OaEq5KMFoFAr3zlZ4IuEAuY7DJYrsY+NL24kMZTDJMltF46zwTdwsPXMIIOlyLQEB9EccegVK61dHmpe3n3jEwlwYeUAFLEH0uLTef4zLxnpUsCZaukn+zU8PQmCeLLBupqPiDtoxobc86ll0oyFaOjl9Ss05WITxBB/LTuKhc2hP9bf5+JWg/6XNWlekcQRVLNtBas5oyCka1aEIHgXIBYAuz97zDLrdFTcVv0bpJyGBMexLm8imMxGpsPVsGmzqwtquKuonfVJ8vKacLkhagktpN2pEa/bNwiO01ZXV1inWLMmb1VRGbZSfP0vrPuuan2y+Y6Kt1xAT+6dNFAvXBXScKqysGtbQmYP5T46oPMPu/GHsGlLihaS+OugLFly30W6BJmaJcOge2gRgnAZzJMWOuydk72RZ3thB+dx/scXJ9a2lMj34HzYzZK2lSaJoxYtC0jV1eZZZRYSK0Yvu1k6R8wrqthyL7QmpCIR8s1XEyu1AKPNoZaWYi3N7ugiorlYkli3OjwcNER8Jdd+RkZoxwTaV3nmc/zPH7rY3MoHUTYLmc6/ayeYtzoSCvLop1f+zQGDB4xVHznicomNddb9eOFqtmcxMJJfICfOScg=
  app: vendaprodutosweb
  on:
    repo: felipemiotto/vendaprodutosweb
