services:
- postgresql
cache:
  directories:
  - ".autoconf"
  - "$HOME/.m2"
addons:
  sonarcloud:
    organization: felipemiotto-github
before_script:
- psql -c 'create database vendasprodutoweb;' -U postgres
- psql -U postgres -d vendasprodutoweb -f src/main/java/Banco/scriptTabelas.sql
language: java
jdk:
- oraclejdk8
script:
- mvn clean verify -DskipTests=false -DskipITs=false -DskipSTs=false
deploy:
  provider: heroku
  api_key:
    secure: UMnxmOOpwIRLoTrAyk4kSyqyxwG2+ZOLFm+aFh/Cln43fxi3P8A0R5rUvAmtoUP/fgmrQTnFQedbfoTgCSVM4yLZzht8NvVtaqhWX2SbQveIjxXJmGGsRP9RxBIvWINlNjVFSqQPdH5Erisu7YybPvZ/9SC4w60cUL/YJJ1KhQLMSI5R1O+f0zvJEUT+sx1Z2+3GgXlSfsXeBw2D+gYZ8gzbN8TUi9fOysMlpcfek+w84654XNvQxmNxlP59iIXVmKlouuJVRd2cryoeL0YVVaxqvW2Z9WaJoFwUXxUAKjwTIABOytEutXASS47WPXqjDXOmqDfHJU5j82bfmzEaLk2yLDC8W+4AGskurQlFnEwnXAtJ9wa9whCWD8pK9Tl12ADpxMiZuDjAt/SjxeetjcOp+l82/gB+xA92hOmTYViKpmFSMStdSL/FQz/OpqLj6ktg3V8mAarT5Gwg03WMTN9gYHd8BbcZ+GLpgg1n+nK53uGukECou6qul41vTVUFdQiUhpyoC4sGvH5JYue1RRfyjHP7Kbvd5WlJBQNB08HgbBYptGflVAjSViQ5g7fkK3HCPgrGrgT1TFTcsY+tVO7JkuENetzUwFQBh3RvBPvSVSm+6leGy5x5cC7Bdq05PyT4+rRUBJv4kU7vj0u4EN6esQN6dIbAGlOldIxKUPI=
  app: vendaprodutosweb
  on:
    repo: felipemiotto/vendaprodutosweb
